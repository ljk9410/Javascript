# 4. 변수
> '변수'란 데이터 값과 관련된 이름이다. 변수의 값을 저장한다 혹은 포함한다라고 표현한다. 변수는 데이터의 값을 저장하거나 조작할 수 있게 해준다.
```javascript
let i; // 변수의 선언
i = 10; // 변수에 값을 할당, 저장
let sum = i + 1; // 새로운 변수에 변수를 이용해서 값을 할당


// <변수의 형>
// 자바, C 와 javascript의 차이점은 '데이터 형을 규정하지 않는다'는 점
let i = 10;
i = "ten" // 이와 같이 숫자 변수에 문자열을 저장해도 오류가 나지 않는다.


// <변수 선언>
// 변수 선언에는 var, let, const가 있다
// var: 변수의 이름을 중복해서 사용 가능
// let: 한번 선언된 변수의 이름은 재사용 불가, 값의 변경은 가능
// const: let의 특징에서 값을 변경할 수 없는 부분이 추가


// <변수의 범위>
// 전역변수와 지역변수가 존재
// 함수 내에서는 지역변수가 전역변수보다 우선
// 함수는 중첩이 가능하다
let scope = "global";

function changeScope() {
    let scope = "local";
    function nested() {
        let scope = "nested"
        document.write(scope); // local 출력
    }
    nested();
}
changeScope();
document.write("<br>" + scope); // global 출력

// ***javascript에는 블록 범위가 없다***
// 함수에서 선언된 변수는 함수의 전체에 걸쳐 정의된다.
// 이 말은 변수를 'var'로 선언했을 때만 해당
// 변수를 'let'으로 선언한다면 블록범위가 생기기 때문에 아래의 코드에서는 k와 j가 선언되지 않았다고 인식하게 된다
function test(o) {
    let i = 0;
    if (o == 1) {
        let j = 0;
        for (let k = 0; k < 10; k++) {
            document.write(k );
        }
        document.write(`last k: ${k}`);
    }
    document.write(j);
}


// <기본형과 참조형> ***
// 기본형: 숫자, bool, null 등
// 참조형: 객체, 배열, 함수 등
// 참조형의 경우 데이터의 크기가 고정되지 않았기 때문에 변수의 데이터가 저장된 주소값을 저장하고 이를 참조하는 식으로 동작한다
let a = [1, 2, 3];
let b = a;
console.log(b); // [1, 2, 3]
a[0] = 10;
console.log(b); // [10, 2, 3]


// <가비지 수집>
// 참조형의 크기는 고정되어 있지 않기 때문에 그 크기는 상당히 크다
// 인터프리터는 배열, 객체등을 생성할 때마다 동적으로 메모리를 할당한다
// 이러한 메모리는 사용한 뒤에는 반환해야 한다
// C C++과 같은 언어에서는 개발자가 수동으로 메모리를 반환
// javascript는 이러한 과정을 '가비지 수집' 이라는 기술에 맡긴다
// 프로그램에서 더이상 쓰이지 않는 객체를 검색한 뒤
// 더이상 필요하지 않은 객체에 사용된 메모리를 자동으로 해제한다
let str = "hello";
let u = s.toUpperCase();
s = u; // 문자열 "hello"에는 더이상 접근하지 못하기 때문에 자동해제 
```

